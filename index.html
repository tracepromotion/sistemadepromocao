<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Condomínios - Filtro Visual</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(270deg, #ff0, #000);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    h1 {
      color: #ff0;
      margin-bottom: 10px;
    }

    #searchBar {
      width: 90%;
      max-width: 600px;
      padding: 10px;
      margin-bottom: 20px;
      border-radius: 8px;
      border: 1px solid #ff0;
      background-color: #000;
      color: #ff0;
    }

    .lista {
      max-width: 600px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    button {
      background-color: #000;
      color: #ff0;
      border: 1px solid #ff0;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover {
      background-color: #ff0;
      color: #000;
    }

    .popup-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.9);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      overflow-y: auto;
      z-index: 1000;
      padding: 40px 0;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .promo-item {
      position: relative;
      margin-bottom: 40px;
      text-align: center;
    }

    .promo-item img {
      max-width: 90vw;
      max-height: 60vh;
      border-radius: 12px;
      box-shadow: 0 0 25px #ff0;
    }

    .copy-img-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #000;
      color: #ff0;
      border: 1px solid #ff0;
      border-radius: 8px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 14px;
      transition: 0.3s;
    }

    .copy-img-btn:hover {
      background-color: #ff0;
      color: #000;
    }

    .texto-box {
      position: relative;
      background-color: #111;
      border: 1px solid #ff0;
      border-radius: 8px;
      color: white;
      padding: 15px;
      width: 90%;
      max-width: 600px;
      margin: 10px auto 0 auto;
      box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
    }

    .copy-text-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #000;
      color: #ff0;
      border: 1px solid #ff0;
      border-radius: 6px;
      padding: 5px 8px;
      cursor: pointer;
      font-size: 12px;
      transition: 0.3s;
    }

    .copy-text-btn:hover {
      background-color: #ff0;
      color: #000;
    }

    .close-btn {
      position: fixed;
      top: 20px;
      right: 30px;
      background: none;
      color: white;
      font-size: 30px;
      border: none;
      opacity: 0.7;
      cursor: pointer;
      z-index: 1100;
    }

    .close-btn:hover {
      opacity: 1;
    }

    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-thumb {
      background: #ff0;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>Selecione um Condomínio</h1>
  <input type="text" id="searchBar" placeholder="Pesquise o nome do condomínio..." />
  <div class="lista" id="condominio-list"></div>

  <div class="popup-container" id="popup" style="display: none;">
    <button class="close-btn" onclick="fecharPopup()">&times;</button>
    <div id="promo-list"></div>
  </div>

  <script>
    /* ==========================
       1️⃣ DEFINIÇÃO DAS PROMOÇÕES
    ========================== */
    const promocoes = {
      "promo_trace": [
        { imagem: "tracecanais.jpeg", texto: "Novo Trace Canais por apenas 19,99$ nos 3 primeiros meses!" }
      ],
      "promo_globo": [
        { imagem: "globopromo49e99.jpeg", texto: "600MB + Globoplay com 50% de desconto nos 3 primeiros meses!" }
      ],
      "promo_canais6meses": [
        { imagem: "canais6meses.jpeg", texto: "Assine e ganhe 6 meses grátis de Trace Canais Premium!" }
      ],
      "promo_globo2": [
        { imagem: "globopromo.jpeg", texto: "Adquira agora a Promoção de 600MB + Globoplay por 99,99" }
      ]
    };

    /* ==========================
       2️⃣ ASSOCIAÇÃO DOS CONDOMÍNIOS
    ========================== */
    const condominioMap = {
      "Energy": ["promo_trace", "promo_globo"],
      "Living Parque Jardim Jasmim": ["promo_trace", "promo_globo"],
      "My Jacarepaguá Style": ["promo_trace", "promo_globo"],
      "Jerivá": ["promo_trace", "promo_globo"],
      "Gran Royal": ["promo_trace", "promo_globo"],
      "Stillo": ["promo_trace", "promo_globo"],
      "Orla Recreio Prainha": ["promo_trace", "promo_globo"],
      "Pátio Eng. Novo": ["promo_trace", "promo_globo"],
      "Cais do Valongo": ["promo_trace", "promo_globo"],
      "Mauá": ["promo_trace", "promo_globo"],
      "Royal Blue": ["promo_trace", "promo_globo"],
      "Praia Formosa": ["promo_trace", "promo_globo"],
      "Varandas do Park": ["promo_trace", "promo_globo"],
      "Viver Mais Campo Grande": ["promo_trace", "promo_globo"],
      "Atmosfera": ["promo_trace", "promo_globo"],
      "Apogeu": ["promo_trace", "promo_globo"],
      "Orla Recreio Grumari": ["promo_trace", "promo_globo"],
      "Vitale Eco": ["promo_trace", "promo_globo"],
      "Residencial Ipês": ["promo_trace", "promo_globo"],
      "Urban SC": ["promo_trace", "promo_globo"],
      "Nova Norte Samba": ["promo_trace", "promo_globo"],
      "Torres do Meier": ["promo_trace", "promo_globo"],
      "Viva Vida Sta Cruz": ["promo_trace", "promo_globo"],
      "Novolar Vargem Grande": ["promo_trace", "promo_globo"],
      "Vivaz Marechal Rondon": ["promo_trace", "promo_globo"],
      "Living Sunset": ["promo_trace", "promo_globo"],
      "Dez Ramos": ["promo_trace", "promo_globo"],
      "Tupinambás": ["promo_trace", "promo_globo"],
      "Tulipa": ["promo_trace", "promo_globo"],
      "Dez Bonsucesso": ["promo_trace", "promo_globo"],
      "Brito 1 e 2": ["promo_trace", "promo_globo"],
      "Urban Zona Norte": ["promo_trace", "promo_globo"],
      "Jardim dos Ipes 1, 2 e 3": ["promo_trace", "promo_globo"],

      "Novolar Recreio": ["promo_canais6meses", "promo_globo49e99"],
      "Reserva Pontal": ["promo_canais6meses", "promo_globo49e99"],
      "Único Bonsucesso": ["promo_canais6meses", "promo_globo49e99"],
      "Laranjeira": ["promo_canais6meses", "promo_globo49e99"],
      "Parque 2": ["promo_canais6meses", "promo_globo49e99"],

      "Parque Íris": ["promo_canais6meses"],
      "Carioca Park": ["promo_canais6meses"],
      "Vivaz Magarça": ["promo_canais6meses"],
      "Parque Violeta": ["promo_canais6meses"],
      "Flores 1 & 2": ["promo_canais6meses"],

      "Alto São Cristovão": ["promo_globo2"],
      "Arte Rosário": ["promo_globo2"],
      "Árvores IV": ["promo_globo2"],
      "Bossa Nova": ["promo_globo2"],
      "Completo Engenho Novo": ["promo_globo2"],
      "Completo Piedade": ["promo_globo2"],
      "Dez Irajá": ["promo_globo2"],
      "Dez Z. Norte": ["promo_globo2"],
      "Encanto": ["promo_globo2"],
      "Enseada do Mar": ["promo_globo2"],
      "Esplendor Carioca": ["promo_globo2"],
      "Felicidade": ["promo_globo2"],
      "Florença": ["promo_globo2"],
      "Grand Ville": ["promo_globo2"],
      "Hibisco": ["promo_globo2"],
      "Jardim Jasmim": ["promo_globo2"],
      "Lírios I": ["promo_globo2"],
      "Lírios II": ["promo_globo2"],
      "Living Choice": ["promo_globo2"],
      "Mérito": ["promo_globo2"],
      "Naturalis": ["promo_globo2"],
      "Novitá": ["promo_globo2"],
      "Parque l": ["promo_globo2"],
      "Parque Recanto Das Flores": ["promo_globo2"],
      "Parque Recanto da Serra": ["promo_globo2"],
      "Parque Recanto Verde": ["promo_globo2"],
      "Pedra de Guaratiba": ["promo_globo2"],
      "Pinheiros": ["promo_globo2"],
      "Porto Barão": ["promo_globo2"],
      "Quinta do Ipés": ["promo_globo2"],
      "Recanto da Colina": ["promo_globo2"],
      "Recoleta": ["promo_globo2"],
      "Reserva do Sol": ["promo_globo2"],
      "Residencial Jardim do Atalaia": ["promo_globo2"],
      "Rio Araras": ["promo_globo2"],
      "Rio Jazz": ["promo_globo2"],
      "Rio Mantiqueira": ["promo_globo2"],
      "Rio Oceane": ["promo_globo2"],
      "Rio Rock": ["promo_globo2"],
      "Rio Samba": ["promo_globo2"],
      "Rockfeller": ["promo_globo2"],
      "Roosevelt": ["promo_globo2"],
      "Serra Lucas": ["promo_globo2"],
      "Silvestre": ["promo_globo2"],
      "Spazio Life": ["promo_globo2"],
      "Único Engenho Novo": ["promo_globo2"],
      "Único Nova Iguaçu": ["promo_globo2"],
      "Urban São Cristovão": ["promo_globo2"],
      "Verona": ["promo_globo2"],
      "Villaggio Ventura": ["promo_globo2"],
      "Viva Mais Engenho Novo": ["promo_globo2"],
      "Viva Vida Harmonia": ["promo_globo2"],
      "Viva Vida Moinho": ["promo_globo2"],
      "Viva Vida Recanto": ["promo_globo2"],
      "Viva Vida Zona Norte": ["promo_globo2"],
      "Viva Vida Zona Oeste": ["promo_globo2"],
      "Vivaz Piedade": ["promo_globo2"],
      "West Garden": ["promo_globo2"]
    };
    /* ==========================
       3️⃣ LÓGICA DE EXIBIÇÃO
    ========================== */
    const listaContainer = document.getElementById("condominio-list");
    const popup = document.getElementById("popup");
    const promoList = document.getElementById("promo-list");
    const searchBar = document.getElementById("searchBar");

    const condominioNomes = Object.keys(condominioMap).sort((a, b) => a.localeCompare(b));

    condominioNomes.forEach(nome => {
      const btn = document.createElement("button");
      btn.innerText = nome;
      btn.onclick = () => mostrarPromocoes(nome);
      listaContainer.appendChild(btn);
    });

    searchBar.addEventListener("input", e => {
      const query = e.target.value.toLowerCase();
      Array.from(listaContainer.children).forEach(btn => {
        btn.style.display = btn.innerText.toLowerCase().includes(query) ? "block" : "none";
      });
    });

    function mostrarPromocoes(nome) {
      promoList.innerHTML = "";
      const promoKeys = condominioMap[nome];

      promoKeys.forEach(key => {
        const promoItens = promocoes[key];
        promoItens.forEach(promo => {
          const item = document.createElement("div");
          item.className = "promo-item";

          const img = document.createElement("img");
          img.src = promo.imagem;
          img.alt = nome;

          const copyImgBtn = document.createElement("button");
          copyImgBtn.className = "copy-img-btn";
          copyImgBtn.textContent = "Copiar Imagem";
          copyImgBtn.onclick = () => copiarImagem(promo.imagem);

          const textoBox = document.createElement("div");
          textoBox.className = "texto-box";
          textoBox.innerText = promo.texto;

          const copyTextBtn = document.createElement("button");
          copyTextBtn.className = "copy-text-btn";
          copyTextBtn.textContent = "Copiar Texto";
          copyTextBtn.onclick = () => copiarTexto(promo.texto);

          textoBox.appendChild(copyTextBtn);
          item.appendChild(img);
          item.appendChild(copyImgBtn);
          item.appendChild(textoBox);
          promoList.appendChild(item);
        });
      });

      popup.style.display = "flex";
    }

    function fecharPopup() {
      popup.style.display = "none";
    }

    function copiarTexto(texto) {
      navigator.clipboard.writeText(texto).then(() => {
        alert("Texto copiado!");
      });
    }

    async function copiarImagem(src) {
      try {
        const response = await fetch(src);
        const blob = await response.blob();
        await navigator.clipboard.write([
          new ClipboardItem({ [blob.type]: blob })
        ]);
        alert("Imagem copiada!");
      } catch (err) {
        alert("Falha ao copiar imagem.");
        console.error(err);
      }
    }
  </script>
</body>
</html>
